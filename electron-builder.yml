appId: com.ronled.clippailot
productName: ClipPAilot
copyright: "Copyright Â© 2025 Ron Lederer"
# Use custom build version for proper Chrome-style versioning
buildVersion: "1.0.12.4"
# Explicitly disable publishing
publish: false
afterSign: false
icon: assets/icon.ico
files:
  - dist/**
  - package.json
extraResources:
  - from: assets/icon.ico
    to: icon.ico
  - from: tools
    to: tools
    filter: ["**/*"]
directories:
  output: release
  buildResources: assets
win:
  icon: assets/icon.ico
  target:
    - target: nsis
      arch: [x64]
  forceCodeSigning: false
  requestedExecutionLevel: asInvoker
  signAndEditExecutable: false
  verifyUpdateCodeSignature: false
nsis:
  oneClick: false
  perMachine: false
  allowElevation: true
  deleteAppDataOnUninstall: false  # Don't auto-delete settings, let user choose
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  runAfterFinish: true
  # Handle existing installations intelligently
  uninstallDisplayName: "ClipPAilot"
  # Auto-detect and handle previous versions
  artifactName: "${productName}-Setup-${buildVersion}.${ext}"
  # Custom installer/uninstaller behavior
  include: "scripts/installer.nsh"
  # Don't treat warnings as errors
  warningsAsErrors: false
  # NSIS installer branding - using proper paths and fallbacks
  installerSidebar: "assets/installer-sidebar.bmp"
  uninstallerSidebar: "assets/installer-sidebar.bmp"
  installerHeaderIcon: "assets/logo.png"
  # Include icon and branding
  displayLanguageSelector: false
  # Better upgrade handling with unique GUID
  guid: "com.ronled.clippailot"